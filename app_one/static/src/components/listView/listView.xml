<?xml version="1.0" encoding="UTF-8"?>
<templates xml:space="preserve">
    <t t-name="app_one.ListView">

        <h1>Properties List</h1>
        <button class="btn btn-primary m-1 p-1" t-on-click="toggleCreateRecord">
        <t t-if="!state.showCreateForm">New</t>
        <t t-else="">Close</t>
        </button> 
        <t t-if="state.showCreateForm">
          <FormView onRecordCreated="onRecordCreated"  onCancel.bind="toggleCreateRecord.bind(this)"/>  
        </t>
        <div class="o_list_view table_responsive">
        <table class="o_list_table table table-sm table-hover table-striped">
            <thead>
                <tr>
                    <th class="o_list_column_header">name </th>
                    <th class="o_list_column_header"> postcode</th>
                    <th class="o_list_column_header"> date availability</th>
                    <th class="o_list_column_header"> Actions</th>
                </tr>
            </thead>
            <tbody>
            <t t-foreach="state.records" t-as="record" t-key="record.id">
                
                <tr>
                    <td><t t-esc="record.name"/> </td>
                    <td><t t-esc="record.postcode"/> </td>
                    <td><t t-esc="record.date_availability"/> </td>
                    <td><button t-on-click="deleteRecord.bind(this,record.id)" class="btn btn-danger">Delete</button> </td>
                </tr>
            </t>

            </tbody>  
        </table>
        </div>
    </t>
</templates>
